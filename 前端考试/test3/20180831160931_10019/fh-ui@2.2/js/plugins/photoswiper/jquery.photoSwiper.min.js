// ==================================================
// fancyBox v3.3.5
//
// Licensed GPLv3 for open source use
// or fancyBox Commercial License for commercial use
//
// http://fancyapps.com/fancybox/
// Copyright 2018 fancyApps
//
// ==================================================
(function(k,n,b,g){function m(a,c){var d,r=[],u=0,e,f;a&&a.isDefaultPrevented()||(a.preventDefault(),c=a&&a.data?a.data.options:c||{},e=c.$target||b(a.currentTarget),(f=e.attr("data-photoSwiper")||"")?(r=a.data.items,d=c.selector?b(c.selector):a.data?a.data.items:[],d=d.length?d.filter('[data-photoSwiper\x3d"'+f+'"]'):b('[data-photoSwiper\x3d"'+f+'"]'),u=d.index(e),0>u&&(u=0)):d=[e],b.photoSwiper.open(d,c,u,r))}k.console=k.console||{info:function(a){}};if(b)if(b.fn.photoSwiper)console.info("photoBox already initialized");else{var l={info:[],isReduce:!0,isEnLarge:!0,isBackOrigin:!0,isLeftHand:!0,isRightHand:!0,isFullScreen:!0,isFind:!0,isTrackSource:!0,isFollow:!0,operateExtend:null,loop:!1,gutter:50,keyboard:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","thumbs","close"],idleTime:1E3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{photoSwiper:!0}}},iframe:{tpl:'\x3ciframe id\x3d"photoSwiper-frame{rnd}" name\x3d"photoSwiper-frame{rnd}" class\x3d"photoSwiper-iframe" frameborder\x3d"0" vspace\x3d"0" hspace\x3d"0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency\x3d"true" src\x3d""\x3e\x3c/iframe\x3e',preload:!0,css:{},attr:{scrolling:"auto"}},defaultType:"image",animationEffect:!1,animationDuration:366,zoomOpacity:"auto",transitionEffect:!1,transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'\x3cdiv class\x3d"photoSwiper-container" role\x3d"dialog" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"photoSwiper-only-bg"\x3e\x3cdiv class\x3d"photoSwiper-only-close"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"photoSwiper-bg"\x3e\x3c/div\x3e\x3cdiv class\x3d"photoSwiper-inner"\x3e\x3cdiv class\x3d"photoSwiper-infobar"\x3e\x3cspan data-photoSwiper-index\x3e\x3c/span\x3e\x26nbsp;/\x26nbsp;\x3cspan data-photoSwiper-count\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"photoSwiper-toolbar"\x3e{{buttons}}\x3c/div\x3e\x3cdiv class\x3d"photoSwiper-navigation"\x3e{{arrows}}\x3c/div\x3e\x3cdiv class\x3d"photoSwiper-stage"\x3e\x3c/div\x3e\x3cdiv class\x3d"photoSwiper-caption"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',spinnerTpl:'\x3cdiv class\x3d"photoSwiper-loading"\x3e\x3c/div\x3e',errorTpl:'\x3cdiv class\x3d"photoSwiper-error"\x3e\x3cp\x3e{{ERROR}}\x3c/p\x3e\x3c/div\x3e',btnTpl:{download:'\x3ca download data-photoSwiper-download class\x3d"photoSwiper-button photoSwiper-button--download" title\x3d"{{DOWNLOAD}}" href\x3d"javascript:;"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M13,16 L20,23 L27,16 M20,7 L20,23 M10,24 L10,28 L30,28 L30,24" /\x3e\x3c/svg\x3e\x3c/a\x3e',zoom:'\x3cbutton data-photoSwiper-zoom class\x3d"photoSwiper-button photoSwiper-button--zoom" title\x3d"{{ZOOM}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M18,17 m-8,0 a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 M24,22 L31,29" /\x3e\x3c/svg\x3e\x3c/button\x3e',close:'\x3cbutton data-photoSwiper-close class\x3d"photoSwiper-button photoSwiper-button--close"\x3e\x3c/button\x3e',smallBtn:'\x3cbutton data-photoSwiper-close class\x3d"photoSwiper-close-small" title\x3d"{{CLOSE}}"\x3e\x3csvg viewBox\x3d"0 0 32 32"\x3e\x3cpath d\x3d"M10,10 L22,22 M22,10 L10,22"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/button\x3e',arrowLeft:'\x3ca data-photoSwiper-prev class\x3d"photoSwiper-button photoSwiper-button--arrow_left" title\x3d"{{PREV}}" href\x3d"javascript:;"\x3e\x3cdiv class\x3d"photoSwiper-left-big"\x3e\x3c/div\x3e\x3c/a\x3e',arrowRight:'\x3ca data-photoSwiper-next class\x3d"photoSwiper-button photoSwiper-button--arrow_right" title\x3d"{{NEXT}}" href\x3d"javascript:;"\x3e\x3cdiv class\x3d"photoSwiper-right-big"\x3e\x3c/div\x3e\x3c/a\x3e',reduce:'\x3cdiv data-photoSwiper-reduce class\x3d"photoSwiper-reduce"\x3e\x3c/div\x3e',enlarge:'\x3cdiv data-photoSwiper-enlarge class\x3d"photoSwiper-enlarge"\x3e\x3c/div\x3e',backOrigin:'\x3cdiv data-photoSwiper-backOrigin class\x3d"photoSwiper-backOrigin"\x3e\x3c/div\x3e',leftHand:'\x3cdiv data-photoSwiper-leftHand class\x3d"photoSwiper-leftHand"\x3e\x3c/div\x3e',rightHand:'\x3cdiv data-photoSwiper-rightHand class\x3d"photoSwiper-rightHand"\x3e\x3c/div\x3e',myFullScreen:'\x3cdiv data-photoSwiper-myFullScreen class\x3d"photoSwiper-myFullScreen"\x3e\x3c/div\x3e',find:'\x3cdiv data-photoSwiper-find class\x3d"photoSwiper-find-wrap"\x3e\x3cdiv class\x3d"photoSwiper-find"\x3e\x3c/div\x3e\x3cdiv class\x3d"photoSwiper-find-title"\x3e\u641c\u7d22\u56fe\u7247\x3c/div\x3e\x3c/div\x3e',trackSource:'\x3cdiv data-photoSwiper-trackSource class\x3d"photoSwiper-trackSource-wrap"\x3e\x3cdiv class\x3d"photoSwiper-trackSource"\x3e\x3c/div\x3e\x3cdiv class\x3d"photoSwiper-trackSource-title"\x3e\u6eaf\u6e90\x3c/div\x3e\x3c/div\x3e',follow:'\x3cdiv data-photoSwiper-follow class\x3d"photoSwiper-follow-wrap"\x3e\x3cdiv class\x3d"photoSwiper-follow"\x3e\x3c/div\x3e\x3cdiv class\x3d"photoSwiper-follow-title"\x3e\u5173\u6ce8\x3c/div\x3e\x3c/div\x3e'},parentEl:"body",autoFocus:!1,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4E3},thumbs:{autoStart:!0,hideOnClose:!0,parentEl:".photoSwiper-container",axis:"x"},wheel:!0,onInit:b.noop,beforeLoad:b.noop,afterLoad:b.noop,beforeShow:b.noop,afterShow:b.noop,beforeClose:b.noop,afterClose:b.noop,onActivate:b.noop,onDeactivate:b.noop,beforeSearch:b.noop,afterSearch:b.noop,beforeTrackSource:b.noop,afterTrackSource:b.noop,beforeFollow:b.noop,afterFollow:b.noop,clickContent:function(a,c){return"image"===a.type?"zoom":!1},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{idleTime:!1,clickContent:function(a,c){return"image"===a.type?"toggleControls":!1},clickSlide:function(a,c){return"image"===a.type?"toggleControls":"close"},dblclickContent:function(a,c){return"image"===a.type?"zoom":!1},dblclickSlide:function(a,c){return"image"===a.type?"zoom":!1}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. \x3cbr/\x3e Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zur\u00fcck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. \x3cbr/\x3e Bitte versuchen Sie es sp\u00e4ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Ma\u00dfstab"}}},h=b(k),p=b(n),x=0,t=function(){return k.requestAnimationFrame||k.webkitRequestAnimationFrame||k.mozRequestAnimationFrame||k.oRequestAnimationFrame||function(a){return k.setTimeout(a,1E3/60)}}(),e=function(){var a=n.createElement("fakeelement"),c,d={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(c in d)if(a.style[c]!==g)return d[c];return"transitionend"}(),f=function(a){return a&&a.length&&a[0].offsetHeight},w=function(a,c){var d=b.extend(!0,{},a,c);b.each(c,function(a,c){b.isArray(c)&&(d[a]=c)});return d},v=function(a,c,d,r){this.opts=w({index:d},b.photoSwiper.defaults);this.totalItems=r;b.isPlainObject(c)&&(this.opts=w(this.opts,c));this.opts.idleTime*=10;b.photoSwiper.isMobile&&(this.opts=w(this.opts,this.opts.mobile));this.id=this.opts.id||++x;this.currIndex=parseInt(this.opts.index,10)||0;this.prevPos=this.prevIndex=null;this.currPos=0;this.firstRun=!0;this.group=[];this.slides={};this.addContent(a);this.group.length&&(this.$lastFocus=b(n.activeElement).trigger("blur"),this.init())};b.extend(v.prototype,{init:function(){var a=this,c=a.group[a.currIndex].opts,d=b.photoSwiper.scrollbarWidth,r,u,e;b.photoSwiper.getInstance()||!1===c.hideScrollbar||(b("body").addClass("photoSwiper-active"),!b.photoSwiper.isMobile&&n.body.scrollHeight>k.innerHeight&&(d===g&&(r=b('\x3cdiv style\x3d"width:100px;height:100px;overflow:scroll;" /\x3e').appendTo("body"),d=b.photoSwiper.scrollbarWidth=r[0].offsetWidth-r[0].clientWidth,r.remove()),b("head").append('\x3cstyle id\x3d"photoSwiper-style-noscroll" type\x3d"text/css"\x3e.compensate-for-scrollbar { margin-right: '+d+"px; }\x3c/style\x3e"),b("body").addClass("compensate-for-scrollbar")));e="";b.each(c.buttons,function(a,d){e+=c.btnTpl[d]||""});u=b(a.translate(a,c.baseTpl.replace("{{buttons}}",e).replace("{{arrows}}",c.btnTpl.arrowLeft+c.btnTpl.arrowRight))).attr("id","photoSwiper-container-"+a.id).addClass("photoSwiper-is-hidden").addClass(c.baseClass).data("FancyBox",a).appendTo(c.parentEl);b('\x3cbutton data-photoSwiper-close class\x3d"photoSwiper-button photoSwiper-button--close"\x3e\x3c/button\x3e').appendTo(u.find(".photoSwiper-inner"));a.$refs={container:u};"bg inner infobar toolbar stage caption navigation".split(" ").forEach(function(c){a.$refs[c]=u.find(".photoSwiper-"+c)});a.trigger("onInit");a.activate();a.jumpTo(a.currIndex)},translate:function(a,c){var d=a.opts.i18n[a.opts.lang];return c.replace(/\{\{(\w+)\}\}/g,function(a,c){var b=d[c];return b===g?a:b})},addContent:function(a){var c=this;a=b.makeArray(a);b.each(a,function(a,r){var d={},e={},f,h;b.isPlainObject(r)?(d=r,e=r.opts||r):"object"===b.type(r)&&b(r).length?(f=b(r),e=f.data()||{},e=b.extend(!0,{},e,e.options),e.$orig=f,d.src=c.opts.src||e.src||f.attr("href"),d.type||d.src||(d.type="inline",d.src=r)):d={type:"html",src:r+""};d.opts=b.extend(!0,{},c.opts,e);b.isArray(e.buttons)&&(d.opts.buttons=e.buttons);e=d.type||d.opts.type;h=d.src||"";!e&&h&&((f=h.match(/\.(mp4|mov|ogv)((\?|#).*)?$/i))?(e="video",d.opts.videoFormat||(d.opts.videoFormat="video/"+("ogv"===f[1]?"ogg":f[1]))):h.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?e="image":h.match(/\.(pdf)((\?|#).*)?$/i)?e="iframe":"#"===h.charAt(0)&&(e="inline"));e?d.type=e:c.trigger("objectNeedsType",d);d.contentType||(d.contentType=-1<b.inArray(d.type,["html","inline","ajax"])?"html":d.type);d.index=c.group.length;"auto"==d.opts.smallBtn&&(d.opts.smallBtn=-1<b.inArray(d.type,["html","inline","ajax"]));"auto"===d.opts.toolbar&&(d.opts.toolbar=!d.opts.smallBtn);d.opts.$trigger&&d.index===c.opts.index&&(d.opts.$thumb=d.opts.$trigger.find("img:first"));d.opts.$thumb&&d.opts.$thumb.length||!d.opts.$orig||(d.opts.$thumb=d.opts.$orig.find("img:first"));"function"===b.type(d.opts.caption)&&(d.opts.caption=d.opts.caption.apply(r,[c,d]));"function"===b.type(c.opts.caption)&&(d.opts.caption=c.opts.caption.apply(r,[c,d]));d.opts.caption instanceof b||(d.opts.caption=d.opts.caption===g?"":d.opts.caption+"");"ajax"===d.type&&(e=h.split(/\s+/,2),1<e.length&&(d.src=e.shift(),d.opts.filter=e.shift()));d.opts.modal&&(d.opts=b.extend(!0,d.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1}));c.group.push(d)});Object.keys(c.slides).length&&(c.updateControls(),(a=c.Thumbs)&&a.isActive&&(a.create(),a.focus()))},addEvents:function(){var a=this;a.removeEvents();a.$refs.container.on("click.fb-close","[data-photoSwiper-close]",function(c){c.stopPropagation();c.preventDefault();a.close(c)}).on("touchstart.fb-prev click.fb-prev","[data-photoSwiper-prev]",function(c){c.stopPropagation();c.preventDefault();a.previous()}).on("touchstart.fb-next click.fb-next","[data-photoSwiper-next]",function(c){c.stopPropagation();c.preventDefault();a.next()}).on("click.fb","[data-photoSwiper-zoom]",function(c){a[a.isScaledDown()?"scaleToActual":"scaleToFit"]()}).on("click.fb-deduce","[data-photoSwiper-reduce]",function(c){c=b(this);a.reduce(c)}).on("click.fb-enlarge","[data-photoSwiper-enlarge]",function(c){c=b(this);a.enlarge(c)}).on("click.fb-backOrigin","[data-photoSwiper-backOrigin]",function(c){c=b(this);a.backOrigin(c)}).on("click.fb-leftHand","[data-photoSwiper-leftHand]",function(c){c=b(this);a.leftHand(c)}).on("click.fb-rightHand","[data-photoSwiper-rightHand]",function(c){c=b(this);a.rightHand(c)}).on("click.fb-myFullScreen","[data-photoSwiper-myFullScreen]",function(c){c=b(this);a.myFullScreen(c)}).on("click.fb-find","[data-photoSwiper-find]",function(c){c=b(this);a.find(c)}).on("click.fb-trackSource","[data-photoSwiper-trackSource]",function(c){c=b(this);a.trackSource(c)}).on("click.fb-follow","[data-photoSwiper-follow]",function(c){c=b(this);a.follow(c)});h.on("orientationchange.fb resize.fb",function(c){if(c&&c.originalEvent&&"resize"===c.originalEvent.type){if(0<a.current.$content.parents(".photoSwiper-container").find(".photoSwiper-only-bg-open").length){c=(b(k).width()-b(".photoSwiper-only-bg img").width())/2;var d=(b(k).height()-b(".photoSwiper-only-bg img").height())/2;b(".photoSwiper-only-bg img").css("top",d);b(".photoSwiper-only-bg img").css("left",c)}c=new Image;c.src=a.current.src;a.dealPositionSize(a.current.$content,c.width,c.height);t(function(){a.update()})}else a.$refs.stage.hide(),setTimeout(function(){a.$refs.stage.show();a.update()},b.photoSwiper.isMobile?600:250)});p.on("focusin.fb",function(a){var c=b.photoSwiper?b.photoSwiper.getInstance():null;c.isClosing||!c.current||!c.current.opts.trapFocus||b(a.target).hasClass("photoSwiper-container")||b(a.target).is(n)||!c||"fixed"===b(a.target).css("position")||c.$refs.container.has(a.target).length||(a.stopPropagation(),c.focus())});p.on("keydown.fb",function(c){var d=a.current,r=c.keyCode||c.which;!d||!d.opts.keyboard||c.ctrlKey||c.altKey||c.shiftKey||b(c.target).is("input")||b(c.target).is("textarea")||(8===r||27===r?(c.preventDefault(),a.close(c)):37===r||38===r?(c.preventDefault(),a.previous()):39===r||40===r?(c.preventDefault(),a.next()):a.trigger("afterKeydown",c,r))});a.group[a.currIndex].opts.idleTime&&(a.idleSecondsCounter=0,p.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(c){a.idleSecondsCounter=0;a.isIdle&&a.showControls();a.isIdle=!1}),a.idleInterval=k.setInterval(function(){a.idleSecondsCounter++;a.idleSecondsCounter>=a.group[a.currIndex].opts.idleTime&&!a.isDragging?(a.isIdle=!0,a.idleSecondsCounter=0,a.hideControls()):k.attachEvent&&(a.isIdle=!0,a.$refs.container.removeClass("photoSwiper-show-infobar photoSwiper-show-toolbar photoSwiper-show-caption "),a.showControlsHelp())},100))},removeEvents:function(){h.off("orientationchange.fb resize.fb");p.off("focusin.fb keydown.fb .fb-idle");this.$refs.container.off(".fb-close .fb-prev .fb-next .fb-deduce .fb-enlarge .fb-backOrigin .fb-leftHand .fb-rightHand .fb-myFullScreen .fb-find .fb-trackSource .fb-follow");this.idleInterval&&(k.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(a){return this.jumpTo(this.currPos-1,a)},next:function(a){return this.jumpTo(this.currPos+1,a)},getmatrixs:function(a){var c=(a.css("-webkit-transform")||a.css("-moz-transform")||a.css("-ms-transform")||a.css("-o-transform")||a.css("transform")).split("(")[1].split(")")[0].split(",");a=c[0];c=c[1];return[Math.sqrt(a*a+c*c),Math.round(180/Math.PI*Math.atan2(c,a))]},reduce:function(a){a=a.parents(".photoSwiper-content-wrapper").find(".photo-img-control");var c=(this.getmatrixs(a)[0]-.1).toFixed(2),d=this.getmatrixs(a)[1],d="scale("+c+")rotate("+d+"deg)";.1<c&&(a.css("-moz-transform",d),a.css("-webkit-transform",d),a.css("-o-transform",d),a.css("-ms-transform",d),a.css("transform",d))},enlarge:function(a){a=a.parents(".photoSwiper-content-wrapper").find(".photo-img-control");var c=(this.getmatrixs(a)[0]+.1).toFixed(2),d=this.getmatrixs(a)[1],d="scale("+c+")rotate("+d+"deg)";5>c&&(a.css("-moz-transform",d),a.css("-webkit-transform",d),a.css("-o-transform",d),a.css("-ms-transform",d),a.css("transform",d))},backOrigin:function(a){a=a.parents(".photoSwiper-content-wrapper").find(".photo-img-control");var c=a.parent();a.css("left",0);a.css("top",0);a.css("-moz-transform","scale(1) rotate(0)");a.css("-webkit-transform","scale(1) rotate(0)");a.css("-o-transform","scale(1) rotate(0)");a.css("-ms-transform","scale(1) rotate(0)");a.css("transform","scale(1) rotate(0)");a.width()<c.width()&&a.css("left",(c.width()-a.width())/2);a.height()<c.height()&&a.css("top",(c.height()-a.height())/2)},leftHand:function(a){a=a.parents(".photoSwiper-content-wrapper").find(".photo-img-control");var c=this.getmatrixs(a)[0],d=this.getmatrixs(a)[1],c="scale("+c+")rotate("+(d-90)%360+"deg)";a.css("-moz-transform",c);a.css("-webkit-transform",c);a.css("-o-transform",c);a.css("-ms-transform",c);a.css("transform",c)},rightHand:function(a){a=a.parents(".photoSwiper-content-wrapper").find(".photo-img-control");var c=this.getmatrixs(a)[0],d=this.getmatrixs(a)[1],c="scale("+c+")rotate("+(d+90)%360+"deg)";a.css("-moz-transform",c);a.css("-webkit-transform",c);a.css("-o-transform",c);a.css("-ms-transform",c);a.css("transform",c)},myFullScreen:function(a){var c=b(k).width();a=b(k).height()-40;var d=new Image;d.src=b(".photoSwiper-only-bg img").attr("src");var r=d.width,u=d.height,d=r,e=u,f=0;if(r>c||u>a){var e=r/c,g=u/a;e>g?(d=r/e,e=u/e):(d=r/g,e=u/g,f=20)}b(".photoSwiper-only-bg").addClass("photoSwiper-only-bg-open");c=(c-d)/2;a=(a-e)/2;b(".photoSwiper-only-bg img").css("top",a+f);b(".photoSwiper-only-bg img").css("left",c);b(".photoSwiper-only-bg img").css("width",d);b(".photoSwiper-only-bg img").css("height",e);b(".photoSwiper-only-close").on("click",function(a){b(".photoSwiper-only-bg").removeClass("photoSwiper-only-bg-open");b(".photoSwiper-only-close").off("click")});b(".photoSwiper-only-bg").on("click",function(a){b(".photoSwiper-only-bg").removeClass("photoSwiper-only-bg-open")});b(".photoSwiper-only-bg img").on("click",function(a){a.preventDefault();a.stopPropagation()})},find:function(a){this.trigger("beforeSearch",a);this.trigger("afterSearch",a)},trackSource:function(a){this.trigger("beforeTrackSource",a);this.trigger("afterTrackSource",a)},follow:function(a){this.trigger("beforeFollow",a);a.hasClass("addFollow")?(a.removeClass("addFollow"),a.find(".photoSwiper-follow-title").html("\u5173\u6ce8")):(a.addClass("addFollow"),a.find(".photoSwiper-follow-title").html("\u53d6\u6d88"));this.trigger("afterFollow",a)},getRealNumber:function(a){for(;0>a;)a+=this.group.length;for(;a>=this.group.length;)a-=this.group.length;return a},jumpTo:function(a,c){var d=this,r=d.group.length,e,h,q,m,l,k;console.log(d.isAnimating);if(!(d.isDragging||d.isClosing||d.isAnimating&&d.firstRun)){a=parseInt(a,10);h=d.current?d.current.opts.loop:d.opts.loop;!h&&a>=r&&(a=r-1);!h&&0>a&&(a=0);if(!h&&(0>a||a>=r))return!1;e=d.firstRun=!Object.keys(d.slides).length;2>r&&!e&&d.isDragging||(m=d.current,d.prevIndex=d.currIndex,d.prevPos=d.currPos,q=d.createSlide(a),1<r&&((h||0<q.index)&&d.createSlide(a-1),(h||q.index<r-1)&&d.createSlide(a+1)),d.current=q,d.currIndex=q.index,d.currPos=q.pos,d.trigger("beforeShow",e),d.updateControls(),r=b.photoSwiper.getTranslate(q.$slide),q.isMoved=(0!==r.left||0!==r.top)&&!q.$slide.hasClass("photoSwiper-animated"),q.forcedDuration=g,b.isNumeric(c)?q.forcedDuration=c:c=q.opts[e?"animationDuration":"transitionDuration"],c=parseInt(c,10),e?(q.opts.animationEffect&&c&&d.$refs.container.css("transition-duration",c+"ms"),q.$slide.parents(".photoSwiper-container").find(".photoSwiper-thumbs-ul-wrapper").css("visibility","hidden"),q.$slide.parents(".photoSwiper-inner").css("visibility","hidden"),d.$refs.container.removeClass("photoSwiper-is-hidden"),f(d.$refs.container),d.$refs.container.addClass("photoSwiper-is-open"),f(d.$refs.container),q.$slide.addClass("photoSwiper-slide--previous"),d.loadSlide(q),q.$slide.removeClass("photoSwiper-slide--previous").addClass("photoSwiper-slide--current"),e=d.totalItems.index(d.current.opts.$orig),e!==g&&d.opts.info[e]!==g&&d.opts.info[e].title!==g&&q.$slide.find(".photoSwiper-content-title").html(d.opts.info[e].title),e!==g&&d.opts.info[e]!==g&&d.opts.info[e].details!==g?q.$slide.find(".photoSwiper-content-info").html(d.opts.info[e].details):q.$slide.find(".photoSwiper-content-wrapper").addClass("noDetails"),d.preload("image")):(b.each(d.slides,function(a,c){b.photoSwiper.stop(c.$slide)}),q.$slide.removeClass("photoSwiper-slide--next photoSwiper-slide--previous").addClass("photoSwiper-slide--current"),e=d.totalItems.index(d.current.opts.$orig),e!==g&&d.opts.info[e]!==g&&d.opts.info[e].title!==g&&q.$slide.find(".photoSwiper-content-title").html(d.opts.info[e].title),e!==g&&d.opts.info[e]!==g&&d.opts.info[e].details!==g?q.$slide.find(".photoSwiper-content-info").html(d.opts.info[e].details):q.$slide.find(".photoSwiper-content-wrapper").addClass("noDetails"),q.isMoved?(l=Math.round(q.$slide.width()),b.each(d.slides,function(a,e){var r=e.pos-q.pos;b.photoSwiper.animate(e.$slide,{top:0,left:r*l+r*e.opts.gutter},c,function(){e.$slide.removeAttr("style").removeClass("photoSwiper-slide--next photoSwiper-slide--previous");e.pos===d.currPos&&(q.isMoved=!1,d.complete())})})):d.$refs.stage.children().removeAttr("style"),q.isLoaded?d.revealContent(q):(d.loadSlide(q),e=d.totalItems.index(d.current.opts.$orig),e!==g&&d.opts.info[e]!==g&&d.opts.info[e].title!==g&&q.$slide.find(".photoSwiper-content-title").html(d.opts.info[e].title),e!==g&&d.opts.info[e]!==g&&d.opts.info[e].details!==g?q.$slide.find(".photoSwiper-content-info").html(d.opts.info[e].details):q.$slide.find(".photoSwiper-content-wrapper").addClass("noDetails")),d.preload("image"),m.pos!==q.pos&&(k="photoSwiper-slide--"+(m.pos>q.pos?"next":"previous"),m.$slide.removeClass("photoSwiper-slide--complete photoSwiper-slide--current photoSwiper-slide--next photoSwiper-slide--previous"),m.isComplete=!1,c&&(q.isMoved||q.opts.transitionEffect)&&(q.isMoved?m.$slide.addClass(k):(k="photoSwiper-animated "+k+" photoSwiper-fx-"+q.opts.transitionEffect,b.photoSwiper.animate(m.$slide,k,c,function(){m.$slide.removeClass(k).removeAttr("style")}))))))}},createSlide:function(a){var c,d;d=a%this.group.length;d=0>d?this.group.length+d:d;!this.slides[a]&&this.group[d]&&(c=b('\x3cdiv class\x3d"photoSwiper-slide"\x3e\x3c/div\x3e').appendTo(this.$refs.stage),this.slides[a]=b.extend(!0,{},this.group[d],{pos:a,$slide:c,isLoaded:!1}),this.updateSlide(this.slides[a]));return this.slides[a]},scaleToActual:function(a,c,d){var e=this,f=e.current,h=f.$content,q=b.photoSwiper.getTranslate(f.$slide).width,m=b.photoSwiper.getTranslate(f.$slide).height,k=f.width,l=f.height,p,n,v,w;!e.isAnimating&&h&&"image"==f.type&&f.isLoaded&&!f.hasError&&(b.photoSwiper.stop(h),e.isAnimating=!0,a=a===g?.5*q:a,c=c===g?.5*m:c,p=b.photoSwiper.getTranslate(h),p.top-=b.photoSwiper.getTranslate(f.$slide).top,p.left-=b.photoSwiper.getTranslate(f.$slide).left,v=k/p.width,w=l/p.height,f=.5*q-.5*k,n=.5*m-.5*l,k>q&&(f=p.left*v-(a*v-a),0<f&&(f=0),f<q-k&&(f=q-k)),l>m&&(n=p.top*w-(c*w-c),0<n&&(n=0),n<m-l&&(n=m-l)),e.updateCursor(k,l),b.photoSwiper.animate(h,{top:n,left:f,scaleX:v,scaleY:w},d||330,function(){e.isAnimating=!1}),e.SlideShow&&e.SlideShow.isActive&&e.SlideShow.stop())},scaleToFit:function(a){var c=this,d=c.current,e=d.$content;!c.isAnimating&&e&&"image"==d.type&&d.isLoaded&&!d.hasError&&(b.photoSwiper.stop(e),d=c.getFitPos(d),c.updateCursor(d.width,d.height),b.photoSwiper.animate(e,{top:d.top,left:d.left,scaleX:d.width/e.width(),scaleY:d.height/e.height()},a||330,function(){c.isAnimating=!1}))},getFitPos:function(a){var c,d,b,e;c=a.$content;var f,g,h={};if(!a.isLoaded||!c||!c.length)return!1;c=parseInt(a.$slide.css("paddingTop"),10);d=parseInt(a.$slide.css("paddingRight"),10);b=parseInt(a.$slide.css("paddingBottom"),10);e=parseInt(a.$slide.css("paddingLeft"),10);f=parseInt(this.$refs.stage.width(),10)-(e+d);g=parseInt(this.$refs.stage.height(),10)-(c+b);b=1062;d=563;"image"===a.type?(h.top=Math.floor(.5*(g-d))+c,h.left=Math.floor(.5*(f-b))+e):"video"===a.contentType&&(a=a.opts.width&&a.opts.height?b/d:a.opts.ratio||16/9,d>b/a?d=b/a:b>d*a&&(b=d*a));h.width=b;h.height=d;return h},update:function(){var a=this;b.each(a.slides,function(c,d){a.updateSlide(d)})},updateSlide:function(a,c){var d=a&&a.$content,e=a.width||a.opts.width,f=a.height||a.opts.height;d&&(e||f||"video"===a.contentType)&&!a.hasError&&(b.photoSwiper.stop(d),b.photoSwiper.setTranslate(d,this.getFitPos(a)),a.pos===this.currPos&&(this.isAnimating=!1,this.updateCursor()));a.$slide.trigger("refresh");this.$refs.toolbar.toggleClass("compensate-for-scrollbar",a.$slide.get(0).scrollHeight>a.$slide.get(0).clientHeight);this.trigger("onUpdate",a)},centerSlide:function(a,c){var d,e;this.current&&(d=Math.round(a.$slide.width()),e=a.pos-this.current.pos,b.photoSwiper.animate(a.$slide,{top:0,left:e*d+e*a.opts.gutter,opacity:1},c===g?0:c,null,!1))},updateCursor:function(a,c){var d=this.current,e=this.$refs.container.removeClass("photoSwiper-is-zoomable photoSwiper-can-zoomIn photoSwiper-can-drag photoSwiper-can-zoomOut"),f;d&&!this.isClosing&&(f=this.isZoomable(),e.toggleClass("photoSwiper-is-zoomable",f),b("[data-photoSwiper-zoom]").prop("disabled",!f),f&&("zoom"===d.opts.clickContent||b.isFunction(d.opts.clickContent)&&"zoom"===d.opts.clickContent(d))?this.isScaledDown(a,c)?e.addClass("photoSwiper-can-zoomIn"):d.opts.touch?e.addClass("photoSwiper-can-drag"):e.addClass("photoSwiper-can-zoomOut"):d.opts.touch&&"video"!==d.contentType&&e.addClass("photoSwiper-can-drag"))},isZoomable:function(){var a=this.current,c;if(a&&!this.isClosing&&"image"===a.type&&!a.hasError){if(!a.isLoaded)return!0;c=this.getFitPos(a);if(a.width>c.width||a.height>c.height)return!0}return!1},isScaledDown:function(a,c){var d=!1,e=this.current,f=e.$content;a!==g&&c!==g?d=a<e.width&&c<e.height:f&&(d=b.photoSwiper.getTranslate(f),d=d.width<e.width&&d.height<e.height);return d},canPan:function(){var a=!1,c=this.current,d;"image"===c.type&&(d=c.$content)&&!c.hasError&&(a=this.getFitPos(c),a=1<Math.abs(d.width()-a.width)||1<Math.abs(d.height()-a.height));return a},dealPositionSize:function(a,c,d){var e,f,h=this.totalItems.index(this.current.opts.$orig);if(0===this.opts.info.length||this.opts.info.length-1<h||this.opts.info[h].details===g)1440>b(k).width()&&818>c&&a.find(".photo-img-control").css("left",(818-c)/2),1440>b(k).width()&&370>d&&a.find(".photo-img-control").css("top",(370-d)/2),1440<=b(k).width()&&978>c&&a.find(".photo-img-control").css("left",(978-c)/2),1440<=b(k).width()&&480>d&&a.find(".photo-img-control").css("top",(480-d)/2),1440>b(k).width()&&(818<c||370<d)&&(f=c/818,q=d/370,f>q?(e=c/f,f=d/f):(e=c/q,f=d/q)),1440<=b(k).width()&&(978<c||480<d)&&(f=c/978,q=d/480,f>q?(e=c/f,f=d/f):(e=c/q,f=d/q));else{1440>b(k).width()&&480>c&&a.find(".photo-img-control").css("left",(480-c)/2);1440>b(k).width()&&370>d&&a.find(".photo-img-control").css("top",(370-d)/2);1440<=b(k).width()&&640>c&&a.find(".photo-img-control").css("left",(640-c)/2);1440<=b(k).width()&&480>d&&a.find(".photo-img-control").css("top",(480-d)/2);if(1440>b(k).width()&&(480<c||370<d)){f=c/480;var q=d/370;f>q?(e=c/f,f=d/f):(e=c/q,f=d/q)}1440<=b(k).width()&&(640<c||480<d)&&(f=c/640,q=d/480,f>q?(e=c/f,f=d/f):(e=c/q,f=d/q))}a.find("img").css("width",e||c);a.find("img").css("height",f||d);a.find(".photo-img-control").css("width",e||c);a.find(".photo-img-control").css("height",f||d);1440<=b(k).width()?(c=0===this.opts.info.length||this.opts.info.length-1<h||this.opts.info[h].details===g?978:640,d=480):(c=0===this.opts.info.length||this.opts.info.length-1<h||this.opts.info[h].details===g?818:480,d=370);a.find("img").width()<c?a.find(".photo-img-control").css("left",(c-a.find("img").width())/2):a.find(".photo-img-control").css("left",0);a.find("img").height()<d?a.find(".photo-img-control").css("top",(d-a.find("img").height())/2):a.find(".photo-img-control").css("top",0)},loadSlide:function(a){var c=this,d,e,f;if(a.isLoading||a.isLoaded)d=a.$content.parents(".photoSwiper-container").find(".photoSwiper-thumbs-ul-wrapper .photoSwiper-thumbs-active").css("background-image").replace("url(","").replace(")","").replace(/\"/g,""),b(".photoSwiper-only-bg").find("img").attr("src",d),d=new Image,d.src=c.current.src,c.dealPositionSize(c.current.$content,d.width,d.height);else{a.isLoading=!0;c.trigger("beforeLoad",a);d=a.type;e=a.$slide;e.off("refresh").trigger("onReset").addClass(a.opts.slideClass);switch(d){case "image":c.setImage(a);break;case "iframe":c.setIframe(a);break;case "html":c.setContent(a,a.src||a.content);break;case "video":c.setContent(a,'\x3cvideo class\x3d"photoSwiper-video" controls controlsList\x3d"nodownload"\x3e\x3csource src\x3d"'+a.src+'" type\x3d"'+a.opts.videoFormat+"\"\x3eYour browser doesn't support HTML5 video\x3c/video");break;case "inline":b(a.src).length?c.setContent(a,b(a.src)):c.setError(a);break;case "ajax":c.showLoading(a);f=b.ajax(b.extend({},a.opts.ajax.settings,{url:a.src,success:function(d,b){"success"===b&&c.setContent(a,d)},error:function(d,b){d&&"abort"!==b&&c.setError(a)}}));e.one("onReset",function(){f.abort()});break;default:c.setError(a)}return!0}},setImage:function(a){var c=this,d=a.opts.srcset||a.opts.image.srcset,e,f,g,h;a.timouts=setTimeout(function(){var d=a.$image;!a.isLoading||d&&d[0].complete||a.hasError||c.showLoading(a)},350);if(d){g=k.devicePixelRatio||1;h=k.innerWidth*g;f=d.split(",").map(function(a){var c={};a.trim().split(/\s+/).forEach(function(a,d){var b=parseInt(a.substring(0,a.length-1),10);if(0===d)return c.url=a;b&&(c.value=b,c.postfix=a[a.length-1])});return c});f.sort(function(a,c){return a.value-c.value});for(var m=0;m<f.length;m++){var l=f[m];if("w"===l.postfix&&l.value>=h||"x"===l.postfix&&l.value>=g){e=l;break}}!e&&f.length&&(e=f[f.length-1]);e&&(a.src=e.url,a.width&&a.height&&"w"==e.postfix&&(a.height=a.width/a.height*e.value,a.width=e.value),a.opts.srcset=d)}a.$content=b('\x3cdiv class\x3d"photoSwiper-content"\x3e\x3c/div\x3e').addClass("photoSwiper-is-hidden").appendTo(a.$slide.addClass("photoSwiper-slide--image"));a.$content.wrap('\x3cdiv class\x3d"photoSwiper-content-wrapper"\x3e\x3c/div\x3e');b('\x3cdiv class\x3d"photoSwiper-content-title"\x3e\x3c/div\x3e').appendTo(a.$content.parent(".photoSwiper-content-wrapper"));b('\x3cdiv class\x3d"photoSwiper-content-info"\x3e\x3c/div\x3e').appendTo(a.$content.parent(".photoSwiper-content-wrapper"));d=b('\x3cdiv class\x3d"photoSwiper-content-operator-left"\x3e\x3c/div\x3e');e=b('\x3cdiv class\x3d"photoSwiper-content-operator-right"\x3e\x3c/div\x3e');null!==c.opts.operateExtend&&b(c.opts.operateExtend).appendTo(e);!0===c.opts.isReduce&&b(c.opts.btnTpl.reduce).appendTo(d);!0===c.opts.isEnLarge&&b(c.opts.btnTpl.enlarge).appendTo(d);!0===c.opts.isBackOrigin&&b(c.opts.btnTpl.backOrigin).appendTo(d);!0===c.opts.isLeftHand&&b(c.opts.btnTpl.leftHand).appendTo(d);!0===c.opts.isRightHand&&b(c.opts.btnTpl.rightHand).appendTo(d);!0===c.opts.isFullScreen&&b(c.opts.btnTpl.myFullScreen).appendTo(d);!0===c.opts.isFind&&b(c.opts.btnTpl.find).appendTo(e);!0===c.opts.isTrackSource&&b(c.opts.btnTpl.trackSource).appendTo(e);!0===c.opts.isFollow&&b(c.opts.btnTpl.follow).appendTo(e);b('\x3cdiv class\x3d"photoSwiper-content-operator"\x3e\x3c/div\x3e').appendTo(a.$content.parent(".photoSwiper-content-wrapper"));d.appendTo(a.$content.parent(".photoSwiper-content-wrapper").find(".photoSwiper-content-operator"));e.appendTo(a.$content.parent(".photoSwiper-content-wrapper").find(".photoSwiper-content-operator"));d=a.opts.thumb||(a.opts.$thumb&&a.opts.$thumb.length?a.opts.$thumb.attr("src"):!1);!1!==a.opts.preload&&a.opts.width&&a.opts.height&&d&&(a.width=a.opts.width,a.height=a.opts.height,a.$ghost=b("\x3cimg src\x3d'"+c.current.src+"' style\x3d'visibility: hidden;'/\x3e").one("error",function(){b(this).remove();a.$ghost=null}).one("load",function(){c.afterLoad(a)}).addClass("photoSwiper-image").appendTo(a.$content).css({"background-image":"url('"+d+"')"}),b(".photoSwiper-only-bg").html(b("\x3cdiv class\x3d'photoSwiper-only-close'\x3e\x3c/div\x3e\x3cimg src\x3d'"+c.current.src+"'/\x3e")),a.$content.find("img").wrap('\x3cdiv id\x3d"photo-img-control" class\x3d"photo-img-control"\x3e\x3c/div\x3e'),d=new Image,d.src=c.current.src,c.dealPositionSize(c.current.$content,d.width,d.height));c.setBigImage(a);var p=a.$content.parent(".photoSwiper-content-wrapper").find("#photo-img-control")[0];p.onmousedown=function(a){var c=a.clientX-p.offsetLeft,d=a.clientY-p.offsetTop;p.onmousemove=function(a){p.style.left=a.clientX-c+"px";p.style.top=a.clientY-d+"px"};p.onmouseup=function(){p.onmousemove=null;p.onmouseup=null}}},getPath:function(){var a;if(n.currentScript)a=n.currentScript.src;else{a=n.scripts;for(var c=a.length-1,d,b=c;0<b;b--)if("interactive"===a[b].readyState){d=a[b].src;break}a=d||a[c].src}return a.substring(0,a.lastIndexOf("/")+1)}(),setBigImage:function(a){var c=this,d=b("\x3cimg  style\x3d'visibility: hidden;'/\x3e"),e=new Image;e.src=a.src;var f=e.width,g=e.height;if(0>=e.fileSize||0===f)a.src=c.getPath+"images/blank.png";a.$image=d.one("error",function(){}).one("load",function(){var b;a.$ghost||(c.resolveImageSlideSize(a,this.naturalWidth,this.naturalHeight),c.afterLoad(a));a.timouts&&(clearTimeout(a.timouts),a.timouts=null);c.isClosing||(a.opts.srcset&&((b=a.opts.sizes)&&"auto"!==b||(b=(1<a.width/a.height&&1<h.width()/h.height()?"100":Math.round(a.width/a.height*100))+"vw"),d.attr("sizes",b).attr("srcset",a.opts.srcset)),a.$ghost&&setTimeout(function(){a.$ghost&&!c.isClosing&&a.$ghost.hide()},Math.min(300,Math.max(1E3,a.height/1600))),c.hideLoading(a))}).addClass("photoSwiper-image").attr("src",a.src).css({"background-image":"url('"+a.src+"')"}).appendTo(a.$content);b(".photoSwiper-only-bg").html(b("\x3cdiv class\x3d'photoSwiper-only-close'\x3e\x3c/div\x3e\x3cimg src\x3d'"+c.current.src+"' /\x3e"));a.$content.find("img").wrap('\x3cdiv id\x3d"photo-img-control" class\x3d"photo-img-control"\x3e\x3c/div\x3e');e=new Image;e.src=c.current.src;f=e.width;g=e.height;c.dealPositionSize(c.current.$content,f,g);(d[0].complete||"complete"==d[0].readyState)&&d[0].naturalWidth&&d[0].naturalHeight?d.trigger("load"):d[0].error&&d.trigger("error")},resolveImageSlideSize:function(a,c,d){var b=parseInt(a.opts.width,10),e=parseInt(a.opts.height,10);a.width=c;a.height=d;0<b&&(a.width=b,a.height=Math.floor(b*d/c));0<e&&(a.width=Math.floor(e*c/d),a.height=e)},setIframe:function(a){var c=this,d=a.opts.iframe,e=a.$slide,f;a.$content=b('\x3cdiv class\x3d"photoSwiper-content'+(d.preload?" photoSwiper-is-hidden":"")+'"\x3e\x3c/div\x3e').css(d.css).appendTo(e);e.addClass("photoSwiper-slide--"+a.contentType);a.$iframe=f=b(d.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(d.attr).appendTo(a.$content);d.preload?(c.showLoading(a),f.on("load.fb error.fb",function(d){this.isReady=1;a.$slide.trigger("refresh");c.afterLoad(a)}),e.on("refresh.fb",function(){var c=a.$content,b=d.css.width,e=d.css.height,h,r;if(1===f[0].isReady){try{h=f.contents(),r=h.find("body")}catch(z){}r&&r.length&&r.children().length&&(c.css({width:"",height:""}),b===g&&(b=Math.ceil(Math.max(r[0].clientWidth,r.outerWidth(!0)))),b&&c.width(b),e===g&&(e=Math.ceil(Math.max(r[0].clientHeight,r.outerHeight(!0)))),e&&c.height(e));c.removeClass("photoSwiper-is-hidden")}})):this.afterLoad(a);f.attr("src",a.src);e.one("onReset",function(){try{b(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(y){}b(this).off("refresh.fb").empty();a.isLoaded=!1})},setContent:function(a,c){this.isClosing||(this.hideLoading(a),a.$content&&b.photoSwiper.stop(a.$content),a.$slide.empty(),c&&c.hasOwnProperty&&c instanceof b&&c.parent().length?(c.parent().parent(".photoSwiper-slide--inline").trigger("onReset"),a.$placeholder=b("\x3cdiv\x3e").hide().insertAfter(c),c.css("display","inline-block")):a.hasError||("string"===b.type(c)&&(c=b("\x3cdiv\x3e").append(b.trim(c)).contents(),3===c[0].nodeType&&(c=b("\x3cdiv\x3e").html(c))),a.opts.filter&&(c=b("\x3cdiv\x3e").html(c).find(a.opts.filter))),a.$slide.one("onReset",function(){b(this).find("video,audio").trigger("pause");a.$placeholder&&(a.$placeholder.after(c.hide()).remove(),a.$placeholder=null);a.$smallBtn&&(a.$smallBtn.remove(),a.$smallBtn=null);a.hasError||(b(this).empty(),a.isLoaded=!1)}),b(c).appendTo(a.$slide),b(c).is("video,audio")&&(b(c).addClass("photoSwiper-video"),b(c).wrap("\x3cdiv\x3e\x3c/div\x3e"),a.contentType="video",a.opts.width=a.opts.width||b(c).attr("width"),a.opts.height=a.opts.height||b(c).attr("height")),a.$content=a.$slide.children().filter("div,form,main,video,audio").first().addClass("photoSwiper-content"),a.$slide.addClass("photoSwiper-slide--"+a.contentType),this.afterLoad(a))},setError:function(a){a.hasError=!0;a.$slide.trigger("onReset").removeClass("photoSwiper-slide--"+a.contentType).addClass("photoSwiper-slide--error");a.contentType="html";this.setContent(a,this.translate(a,a.opts.errorTpl));a.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(a){(a=a||this.current)&&!a.$spinner&&(a.$spinner=b(this.translate(this,this.opts.spinnerTpl)).appendTo(a.$slide))},hideLoading:function(a){(a=a||this.current)&&a.$spinner&&(a.$spinner.remove(),delete a.$spinner)},afterLoad:function(a){this.isClosing||(a.isLoading=!1,a.isLoaded=!0,this.trigger("afterLoad",a),this.hideLoading(a),a.pos===this.currPos&&this.updateCursor(),!a.opts.smallBtn||a.$smallBtn&&a.$smallBtn.length||(a.$smallBtn=b(this.translate(a,a.opts.btnTpl.smallBtn)).prependTo(a.$content)),a.opts.protect&&a.$content&&!a.hasError&&(a.$content.on("contextmenu.fb",function(a){2==a.button&&a.preventDefault();return!0}),"image"===a.type&&b('\x3cdiv class\x3d"photoSwiper-spaceball"\x3e\x3c/div\x3e').appendTo(a.$content)),this.revealContent(a))},revealContent:function(a){var c=this,d=a.$slide,e=!1,h=!1,m,p,l;m=a.opts[c.firstRun?"animationEffect":"transitionEffect"];l=a.opts[c.firstRun?"animationDuration":"transitionDuration"];l=parseInt(a.forcedDuration===g?l:a.forcedDuration,10);a.pos===c.currPos&&(a.isComplete?m=!1:c.isAnimating=!0);if(a.isMoved||a.pos!==c.currPos||!l)m=!1;"zoom"===m&&(a.pos===c.currPos&&l&&"image"===a.type&&!a.hasError&&(h=c.getThumbPos(a))?e=c.getFitPos(a):m="fade");"zoom"===m?(e.scaleX=e.width/h.width,e.scaleY=e.height/h.height,m=a.opts.zoomOpacity,"auto"==m&&(m=.1<Math.abs(a.width/a.height-h.width/h.height)),m&&(h.opacity=.1,e.opacity=1),b.photoSwiper.setTranslate(a.$content.removeClass("photoSwiper-is-hidden"),h),f(a.$content),b.photoSwiper.animate(a.$content,e,l,function(){c.isAnimating=!1;c.complete()})):(c.updateSlide(a),m?(b.photoSwiper.stop(d),p="photoSwiper-animated photoSwiper-slide--"+(a.pos>=c.prevPos?"next":"previous")+" photoSwiper-fx-"+m,d.removeAttr("style").removeClass("photoSwiper-slide--current photoSwiper-slide--next photoSwiper-slide--previous").addClass(p),a.$content.removeClass("photoSwiper-is-hidden"),f(d),b.photoSwiper.animate(d,"photoSwiper-slide--current",l,function(e){d.removeClass(p).removeAttr("style");a.pos===c.currPos&&c.complete()},!0)):(f(d),a.$content.removeClass("photoSwiper-is-hidden"),a.pos===c.currPos&&c.complete()))},getThumbPos:function(a){var c=!1,d=(a=a.opts.$thumb)&&a.length&&a[0].ownerDocument===n?a.offset():0,e=function(a){a=a[0];for(var c=a.getBoundingClientRect(),d=[];null!==a.parentElement;)"hidden"!==b(a.parentElement).css("overflow")&&"auto"!==b(a.parentElement).css("overflow")||d.push(a.parentElement.getBoundingClientRect()),a=a.parentElement;return d.every(function(a){var d=Math.min(c.bottom,a.bottom)-Math.max(c.top,a.top);return 0<Math.min(c.right,a.right)-Math.max(c.left,a.left)&&0<d})&&0<c.bottom&&0<c.right&&c.left<b(k).width()&&c.top<b(k).height()};d&&e(a)&&(c=this.$refs.stage.offset(),c={top:d.top-c.top+parseFloat(a.css("border-top-width")||0),left:d.left-c.left+parseFloat(a.css("border-left-width")||0),width:a.width(),height:a.height(),scaleX:1,scaleY:1});return c},complete:function(){var a=this,c=a.current,d={};!c.isMoved&&c.isLoaded&&(c.isComplete||(c.isComplete=!0,c.$slide.siblings().trigger("onReset"),a.preload("inline"),f(c.$slide),c.$slide.addClass("photoSwiper-slide--complete"),b.each(a.slides,function(c,e){e.pos>=a.currPos-1&&e.pos<=a.currPos+1?d[e.pos]=e:e&&(b.photoSwiper.stop(e.$slide),e.$slide.off().remove())}),a.slides=d),a.isAnimating=!1,a.updateCursor(),a.trigger("afterShow"),c.$slide.find("video,audio").filter(":visible:first").trigger("play"),(b(n.activeElement).is("[disabled]")||c.opts.autoFocus&&"image"!=c.type&&"iframe"!==c.type)&&a.focus())},preload:function(a){var c=this.slides[this.currPos+1],d=this.slides[this.currPos-1];c&&c.type===a&&this.loadSlide(c);d&&d.type===a&&this.loadSlide(d)},focus:function(){var a=this.current,c;!this.isClosing&&a&&a.isComplete&&a.$content&&(c=a.$content.find("input[autofocus]:enabled:visible:first"),c.length||(c=a.$content.find("button,:input,[tabindex],a").filter(":enabled:visible:first")),c=c&&c.length?c:a.$content,c.trigger("focus"))},activate:function(){var a=this;b(".photoSwiper-container").each(function(){var c=b(this).data("FancyBox");c&&c.id!==a.id&&!c.isClosing&&(c.trigger("onDeactivate"),c.removeEvents(),c.isVisible=!1)});a.isVisible=!0;if(a.current||a.isIdle)a.update(),a.updateControls();a.trigger("onActivate");a.addEvents()},close:function(a,c){var d=this,g=d.current,h,m,l,p,k,n=function(){d.cleanUp(a)};if(d.isClosing)return!1;d.isClosing=!0;if(!1===d.trigger("beforeClose",a))return d.isClosing=!1,t(function(){d.update()}),!1;d.removeEvents();g.timouts&&clearTimeout(g.timouts);l=g.$content;h=g.opts.animationEffect;m=b.isNumeric(c)?c:h?g.opts.animationDuration:0;g.$slide.off(e).removeClass("photoSwiper-slide--complete photoSwiper-slide--next photoSwiper-slide--previous photoSwiper-animated");g.$slide.siblings().trigger("onReset").remove();m&&d.$refs.container.removeClass("photoSwiper-is-open").addClass("photoSwiper-is-closing");d.hideLoading(g);d.hideControls();d.updateCursor();"zoom"!==h||!0!==a&&l&&m&&"image"===g.type&&!g.hasError&&(k=d.getThumbPos(g))||(h="fade");if("zoom"===h)return b.photoSwiper.stop(l),h=b.photoSwiper.getTranslate(l),p={top:h.top,left:h.left,scaleX:h.width/k.width,scaleY:h.height/k.height,width:k.width,height:k.height},h=g.opts.zoomOpacity,"auto"==h&&(h=.1<Math.abs(g.width/g.height-k.width/k.height)),h&&(k.opacity=0),b.photoSwiper.setTranslate(l,p),f(l),b.photoSwiper.animate(l,k,m,n),!0;h&&m?!0===a?setTimeout(n,m):b.photoSwiper.animate(g.$slide.removeClass("photoSwiper-slide--current"),"photoSwiper-animated photoSwiper-slide--previous photoSwiper-fx-"+h,m,n):n();return!0},cleanUp:function(a){var c=b("body");this.current.$slide.trigger("onReset");this.$refs.container.empty().remove();this.trigger("afterClose",a);this.$lastFocus&&this.current.opts.backFocus&&this.$lastFocus.trigger("focus");this.current=null;(a=b.photoSwiper.getInstance())?a.activate():(c.removeClass("photoSwiper-active compensate-for-scrollbar"),b("#photoSwiper-style-noscroll").remove())},trigger:function(a,c){var d=Array.prototype.slice.call(arguments,1),e=c&&c.opts?c:this.current,f;e?d.unshift(e):e=this;d.unshift(this);b.isFunction(e.opts[a])&&(f=e.opts[a].apply(e,d));if(!1===f)return f;"afterClose"!==a&&this.$refs?this.$refs.container.trigger(a+".fb",d):p.trigger(a+".fb",d)},updateControls:function(a){a=this.current;var c=a.index,d=a.opts.caption,e=this.$refs.container,b=this.$refs.caption;a.$slide.trigger("refresh");this.$caption=d&&d.length?b.html(d):null;this.isHiddenControls||this.isIdle||this.showControls();e.find("[data-photoSwiper-count]").html(this.group.length);e.find("[data-photoSwiper-index]").html(c+1);e.find("[data-photoSwiper-prev]").toggleClass("disabled",!a.opts.loop&&0>=c);e.find("[data-photoSwiper-next]").toggleClass("disabled",!a.opts.loop&&c>=this.group.length-1);e.find(".photoSwiper-thumbs-left").toggleClass("disabled",!a.opts.loop&&0>=c);e.find(".photoSwiper-thumbs-right").toggleClass("disabled",!a.opts.loop&&c>=this.group.length-1);"image"===a.type?e.find("[data-photoSwiper-zoom]").show().end().find("[data-photoSwiper-download]").attr("href",a.opts.image.src||a.src).show():a.opts.toolbar&&e.find("[data-photoSwiper-download],[data-photoSwiper-zoom]").hide()},hideControls:function(){this.isHiddenControls=!0;this.$refs.container.removeClass("photoSwiper-show-infobar photoSwiper-show-toolbar photoSwiper-show-caption photoSwiper-show-nav")},showControls:function(){var a=this.current?this.current.opts:this.opts,c=this.$refs.container;this.isHiddenControls=!1;this.idleSecondsCounter=0;c.toggleClass("photoSwiper-show-toolbar",!(!a.toolbar||!a.buttons)).toggleClass("photoSwiper-show-infobar",!!(a.infobar&&1<this.group.length)).toggleClass("photoSwiper-show-nav",!!(a.arrows&&1<this.group.length)).toggleClass("photoSwiper-is-modal",!!a.modal);this.$caption?c.addClass("photoSwiper-show-caption "):c.removeClass("photoSwiper-show-caption")},showControlsHelp:function(){var a=this.current?this.current.opts:this.opts,c=this.$refs.container;c.toggleClass("photoSwiper-show-toolbar",!(!a.toolbar||!a.buttons)).toggleClass("photoSwiper-show-infobar",!!(a.infobar&&1<this.group.length)).toggleClass("photoSwiper-is-modal",!!a.modal);this.$caption?c.addClass("photoSwiper-show-caption "):c.removeClass("photoSwiper-show-caption")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}});b.photoSwiper={version:"{photoSwiper-version}",defaults:l,getInstance:function(a){var c=b('.photoSwiper-container:not(".photoSwiper-is-closing"):last').data("FancyBox"),d=Array.prototype.slice.call(arguments,1);return c instanceof v?("string"===b.type(a)?c[a].apply(c,d):"function"===b.type(a)&&a.apply(c,d),c):!1},open:function(a,c,d,e){return new v(a,c,d,e)},close:function(a){var c=this.getInstance();c&&(c.close(),!0===a&&this.close())},destroy:function(){this.close(!0);p.add("body").off("click.fb-start","**")},isMobile:n.createTouch!==g&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var a=n.createElement("div");return k.getComputedStyle&&k.getComputedStyle(a)&&k.getComputedStyle(a).getPropertyValue("transform")&&!(n.documentMode&&11>n.documentMode)}(),getTranslate:function(a){var c;if(!a||!a.length)return!1;c=a[0].getBoundingClientRect();return{top:c.top||0,left:c.left||0,width:c.width,height:c.height,opacity:parseFloat(a.css("opacity"))}},setTranslate:function(a,c){var d,e=0,f={};if(a&&c){if(c.left!==g||c.top!==g)c.left===g&&a.position(),c.top===g&&a.position(),e=c.left===g?a.position().left:c.left;c.opacity!==g&&(f.opacity=c.opacity);c.width!==g&&(f.width="684px");c.height!==g&&(f.height="514px");var h=a.parents(".photoSwiper-inner");if(1440>b(k).width()){e=(b(k).width()-852)/2;d=e+"px";var m=e-279+"px";a.parents(".photoSwiper-container").find(".photoSwiper-thumbs-ul-wrapper").css({left:m,width:f.width,top:(b(k).height()-552)/2+430+"px"});a.parent(".photoSwiper-content-wrapper").css({left:d,top:(b(k).height()-552)/2+"px"});h.css({height:410+(b(k).height()-552)/2+"px"});h.find(".photoSwiper-left-big").css({left:e-62+"px"});h.find(".photoSwiper-right-big").css({right:b(k).width()-(e-0+920)+"px"})}else d=e+"px",m=e-279+"px",a.parents(".photoSwiper-container").find(".photoSwiper-thumbs-ul-wrapper").css({left:m,width:f.width,top:(b(k).height()-700)/2+540+"px"}),a.parent(".photoSwiper-content-wrapper").css({left:d,top:(b(k).height()-700)/2+"px"}),h.css({height:520+(b(k).height()-700)/2+"px"}),h.find(".photoSwiper-left-big").css({left:e-62+"px"}),h.find(".photoSwiper-right-big").css({right:b(k).width()-(e-0+1080)+"px"});h.css("visibility","visible");h.parents(".photoSwiper-container").find(".photoSwiper-thumbs-ul-wrapper").css("visibility","visible");h.parents(".photoSwiper-container").find(".photo-img-control img").css("visibility","visible");return a.css(f)}},animate:function(a,c,d,f,h){var m=!1;b.isFunction(d)&&(f=d,d=null);b.isPlainObject(c)||a.removeAttr("style");b.photoSwiper.stop(a);a.on(e,function(d){if(!d||!d.originalEvent||a.is(d.originalEvent.target)&&"z-index"!=d.originalEvent.propertyName)b.photoSwiper.stop(a),m&&b.photoSwiper.setTranslate(a,m),b.isPlainObject(c)?!1===h&&a.removeAttr("style"):!0!==h&&a.removeClass(c),b.isFunction(f)&&f(d)});b.isNumeric(d)&&a.css("transition-duration",d+"ms");b.isPlainObject(c)?(c.scaleX!==g&&c.scaleY!==g&&(m=b.extend({},c,{width:a.width()*c.scaleX,height:a.height()*c.scaleY,scaleX:1,scaleY:1}),delete c.width,delete c.height,a.parent().hasClass("photoSwiper-slide--image")&&a.parent().addClass("photoSwiper-is-scaling")),b.photoSwiper.setTranslate(a,c)):a.addClass(c);a.data("timer",setTimeout(function(){a.trigger("transitionend")},d+16))},stop:function(a){a&&a.length&&(clearTimeout(a.data("timer")),a.off("transitionend").css("transition-duration",""),a.parent().removeClass("photoSwiper-is-scaling"))}};b.fn.photoSwiper=function(a){var c;a=a||{};if(c=a.selector||!1)b("body").off("click.fb-start",c).on("click.fb-start",c,{options:a},m);else this.off("click.fb-start").on("click.fb-start",{items:this,options:a},m);return this};p.on("click.fb-start","[data-photoSwiper]",m);p.on("click.fb-start","[data-photoSwiper-trigger]",function(a){m(a,{$target:b('[data-photoSwiper\x3d"'+b(a.currentTarget).attr("data-photoSwiper-trigger")+'"]').eq(b(a.currentTarget).attr("data-index")||0),$trigger:b(this)})})}})(window,document,window.jQuery||jQuery);(function(k){var n=function(b,m,l){if(b)return l=l||"","object"===k.type(l)&&(l=k.param(l,!0)),k.each(m,function(h,g){b=b.replace("$"+h,g||"")}),l.length&&(b+=(0<b.indexOf("?")?"\x26":"?")+l),b},b={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size\x3dl"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(b){return"//maps.google."+b[2]+"/?ll\x3d"+(b[9]?b[9]+"\x26z\x3d"+Math.floor(b[10])+(b[12]?b[12].replace(/^\//,"\x26"):""):b[12]+"").replace(/\?/,"\x26")+"\x26output\x3d"+(b[12]&&0<b[12].indexOf("layer\x3dc")?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(b){return"//maps.google."+b[2]+"/maps?q\x3d"+b[5].replace("query\x3d","q\x3d").replace("api\x3d1","")+"\x26output\x3dembed"}}};k(document).on("objectNeedsType.fb",function(g,m,l){var h=l.src||"",p=!1,x,t,e,f,w,v;g=k.extend(!0,{},b,l.opts.media);k.each(g,function(a,c){if(t=h.match(c.matcher)){p=c.type;v=a;w={};if(c.paramPlace&&t[c.paramPlace]){f=t[c.paramPlace];"?"==f[0]&&(f=f.substring(1));f=f.split("\x26");for(var d=0;d<f.length;++d){var b=f[d].split("\x3d",2);2==b.length&&(w[b[0]]=decodeURIComponent(b[1].replace(/\+/g," ")))}}e=k.extend(!0,{},c.params,l.opts[a],w);h="function"===k.type(c.url)?c.url.call(this,t,e,l):n(c.url,t,e);x="function"===k.type(c.thumb)?c.thumb.call(this,t,e,l):n(c.thumb,t);"youtube"===a?h=h.replace(/&t=((\d+)m)?(\d+)s/,function(a,c,d,e){return"\x26start\x3d"+((d?60*parseInt(d,10):0)+parseInt(e,10))}):"vimeo"===a&&(h=h.replace("\x26%23","#"));return!1}});p?(l.opts.thumb||l.opts.$thumb&&l.opts.$thumb.length||(l.opts.thumb=x),"iframe"===p&&(l.opts=k.extend(!0,l.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),k.extend(l,{type:p,src:h,origSrc:l.src,contentSource:v,contentType:"image"===p?"image":"gmap_place"==v||"gmap_search"==v?"map":"video"})):h&&(l.type=l.opts.defaultType)})})(window.jQuery||jQuery);(function(k,n,b){var g=function(){return k.requestAnimationFrame||k.webkitRequestAnimationFrame||k.mozRequestAnimationFrame||k.oRequestAnimationFrame||function(e){return k.setTimeout(e,1E3/60)}}(),m=function(){return k.cancelAnimationFrame||k.webkitCancelAnimationFrame||k.mozCancelAnimationFrame||k.oCancelAnimationFrame||function(e){k.clearTimeout(e)}}(),l=function(e){var b=[];e=e.originalEvent||e||k.e;e=e.touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e];for(var h in e)e[h].pageX?b.push({x:e[h].pageX,y:e[h].pageY}):e[h].clientX&&b.push({x:e[h].clientX,y:e[h].clientY});return b},h=function(e,b,h){return b&&e?"x"===h?e.x-b.x:"y"===h?e.y-b.y:Math.sqrt(Math.pow(e.x-b.x,2)+Math.pow(e.y-b.y,2)):0},p=function(e){if(e.is('a,area,button,[role\x3d"button"],input,label,select,summary,textarea,video,audio')||b.isFunction(e.get(0).onclick)||e.data("selectable"))return!0;var f=0;e=e[0].attributes;for(var h=e.length;f<h;f++)if("data-photoSwiper-"===e[f].nodeName.substr(0,14))return!0;return!1},x=function(e){for(var b;;){b=e.get(0);var h=k.getComputedStyle(b)["overflow-y"],g=k.getComputedStyle(b)["overflow-x"],g=("scroll"===g||"auto"===g)&&b.scrollWidth>b.clientWidth;if(b=("scroll"===h||"auto"===h)&&b.scrollHeight>b.clientHeight||g)break;e=e.parent();if(!e.length||e.hasClass("photoSwiper-stage")||e.is("body"))break}return b},t=function(e){this.instance=e;this.$bg=e.$refs.bg;this.$stage=e.$refs.stage;this.$container=e.$refs.container;this.destroy();this.$container.on("touchstart.fb.touch mousedown.fb.touch",b.proxy(this,"ontouchstart"))};t.prototype.destroy=function(){this.$container.off(".fb.touch")};t.prototype.ontouchstart=function(e){var f=b(e.target),g=this.instance,m=g.current,a=m.$content,c="touchstart"==e.type;c&&this.$container.off("mousedown.fb.touch");if(!(e.originalEvent&&2==e.originalEvent.button||!f.length||p(f)||p(f.parent())||!f.is("img")&&e.originalEvent.clientX>f[0].clientWidth+f.offset().left))if(!m||g.isAnimating||g.isClosing)e.stopPropagation(),e.preventDefault();else if(this.realPoints=this.startPoints=l(e),this.startPoints.length)if(e.stopPropagation(),this.startEvent=e,this.canTap=!0,this.$target=f,this.$content=a,this.opts=m.opts.touch,this.isScrolling=this.isZooming=this.isSwiping=this.isPanning=!1,this.startTime=(new Date).getTime(),this.distanceX=this.distanceY=this.distance=0,this.canvasWidth=Math.round(m.$slide[0].clientWidth),this.canvasHeight=Math.round(m.$slide[0].clientHeight),this.contentLastPos=null,this.contentStartPos=b.photoSwiper.getTranslate(this.$content)||{top:0,left:0},this.sliderStartPos=this.sliderLastPos||b.photoSwiper.getTranslate(m.$slide),this.stagePos=b.photoSwiper.getTranslate(g.$refs.stage),this.sliderStartPos.top-=this.stagePos.top,this.sliderStartPos.left-=this.stagePos.left,this.contentStartPos.top-=this.stagePos.top,this.contentStartPos.left-=this.stagePos.left,b(n).off(".fb.touch").on(c?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",b.proxy(this,"ontouchend")).on(c?"touchmove.fb.touch":"mousemove.fb.touch",b.proxy(this,"ontouchmove")),b.photoSwiper.isMobile&&n.addEventListener("scroll",this.onscroll,!0),!this.opts&&!g.canPan()||!f.is(this.$stage)&&!this.$stage.find(f).length)f.is(".photoSwiper-image")&&e.preventDefault();else{b.photoSwiper.isMobile&&(x(f)||x(f.parent()))||e.preventDefault();if(1===this.startPoints.length||m.hasError)this.instance.canPan()?(b.photoSwiper.stop(this.$content),this.$content.css("transition-duration",""),this.isPanning=!0):this.isSwiping=!0,this.$container.addClass("photoSwiper-controls--isGrabbing");2===this.startPoints.length&&"image"===m.type&&(m.isLoaded||m.$ghost)&&(this.isPanning=this.isSwiping=this.canTap=!1,this.isZooming=!0,b.photoSwiper.stop(this.$content),this.$content.css("transition-duration",""),this.centerPointStartX=.5*(this.startPoints[0].x+this.startPoints[1].x)-b(k).scrollLeft(),this.centerPointStartY=.5*(this.startPoints[0].y+this.startPoints[1].y)-b(k).scrollTop(),this.percentageOfImageAtPinchPointX=(this.centerPointStartX-this.contentStartPos.left)/this.contentStartPos.width,this.percentageOfImageAtPinchPointY=(this.centerPointStartY-this.contentStartPos.top)/this.contentStartPos.height,this.startDistanceBetweenFingers=h(this.startPoints[0],this.startPoints[1]))}};t.prototype.onscroll=function(b){this.isScrolling=!0;n.removeEventListener("scroll",this.onscroll,!0)};t.prototype.ontouchmove=function(e){var f=b(e.target);if(void 0!==e.originalEvent.buttons&&0===e.originalEvent.buttons)this.ontouchend(e);else if(this.isScrolling||!f.is(this.$stage)&&!this.$stage.find(f).length)this.canTap=!1;else if(this.newPoints=l(e),(this.opts||this.instance.canPan())&&this.newPoints.length&&this.newPoints.length&&(this.isSwiping&&!0===this.isSwiping||e.preventDefault(),this.distanceX=h(this.newPoints[0],this.startPoints[0],"x"),this.distanceY=h(this.newPoints[0],this.startPoints[0],"y"),this.distance=h(this.newPoints[0],this.startPoints[0]),0<this.distance))if(this.isSwiping)this.onSwipe(e);else if(!this.isPanning&&this.isZooming)this.onZoom()};t.prototype.onSwipe=function(e){var f=this;e=f.isSwiping;var h=f.sliderStartPos.left||0;!0===e?10<Math.abs(f.distance)&&(f.canTap=!1,2>f.instance.group.length&&f.opts.vertical?f.isSwiping="y":f.instance.isDragging||!1===f.opts.vertical||"auto"===f.opts.vertical&&800<b(k).width()?f.isSwiping="x":(e=Math.abs(180*Math.atan2(f.distanceY,f.distanceX)/Math.PI),f.isSwiping=45<e&&135>e?"y":"x"),f.canTap=!1,"y"===f.isSwiping&&b.photoSwiper.isMobile&&(x(f.$target)||x(f.$target.parent()))?f.isScrolling=!0:(f.instance.isDragging=f.isSwiping,f.startPoints=f.newPoints,b.each(f.instance.slides,function(e,a){b.photoSwiper.stop(a.$slide);a.$slide.css("transition-duration","");a.inTransition=!1;a.pos===f.instance.current.pos&&(f.sliderStartPos.left=b.photoSwiper.getTranslate(a.$slide).left-b.photoSwiper.getTranslate(f.instance.$refs.stage).left)}),f.instance.SlideShow&&f.instance.SlideShow.isActive&&f.instance.SlideShow.stop())):("x"==e&&(h=0<f.distanceX&&(2>f.instance.group.length||0===f.instance.current.index&&!f.instance.current.opts.loop)?h+Math.pow(f.distanceX,.8):0>f.distanceX&&(2>f.instance.group.length||f.instance.current.index===f.instance.group.length-1&&!f.instance.current.opts.loop)?h-Math.pow(-f.distanceX,.8):h+f.distanceX),f.sliderLastPos={top:"x"==e?0:f.sliderStartPos.top+f.distanceY,left:h},f.requestId&&(m(f.requestId),f.requestId=null),f.requestId=g(function(){f.sliderLastPos&&(b.each(f.instance.slides,function(e,a){var c=a.pos-f.instance.currPos;b.photoSwiper.setTranslate(a.$slide,{top:f.sliderLastPos.top,left:f.sliderLastPos.left+c*f.canvasWidth+c*a.opts.gutter})}),f.$container.addClass("photoSwiper-is-sliding"))}))};t.prototype.onPan=function(){var e=this;h(e.newPoints[0],e.realPoints[0])<(b.photoSwiper.isMobile?10:5)?e.startPoints=e.newPoints:(e.canTap=!1,e.contentLastPos=e.limitMovement(),e.requestId&&(m(e.requestId),e.requestId=null),e.requestId=g(function(){b.photoSwiper.setTranslate(e.$content,e.contentLastPos)}))};t.prototype.limitMovement=function(){var b=this.canvasWidth,f=this.canvasHeight,h=this.distanceX,g=this.distanceY,a=this.contentStartPos,c=a.left,d=a.top,m=a.width,l=a.height,k,p,n;p=m>b?c+h:c;n=d+g;a=Math.max(0,.5*b-.5*m);k=Math.max(0,.5*f-.5*l);b=Math.min(b-m,.5*b-.5*m);f=Math.min(f-l,.5*f-.5*l);0<h&&p>a&&(p=a-1+Math.pow(-a+c+h,.8)||0);0>h&&p<b&&(p=b+1-Math.pow(b-c-h,.8)||0);0<g&&n>k&&(n=k-1+Math.pow(-k+d+g,.8)||0);0>g&&n<f&&(n=f+1-Math.pow(f-d-g,.8)||0);return{top:n,left:p}};t.prototype.limitPosition=function(b,f,h,g){var a=this.canvasWidth,c=this.canvasHeight;h>a?(b=0<b?0:b,b=b<a-h?a-h:b):b=Math.max(0,a/2-h/2);g>c?(f=0<f?0:f,f=f<c-g?c-g:f):f=Math.max(0,c/2-g/2);return{top:f,left:b}};t.prototype.onZoom=function(){var e=this,f=e.contentStartPos,l=f.width,p=f.height,a=f.left,c=f.top,d=h(e.newPoints[0],e.newPoints[1])/e.startDistanceBetweenFingers,f=Math.floor(l*d),n=Math.floor(p*d),l=(l-f)*e.percentageOfImageAtPinchPointX,p=(p-n)*e.percentageOfImageAtPinchPointY,x=(e.newPoints[0].x+e.newPoints[1].x)/2-b(k).scrollLeft(),t=(e.newPoints[0].y+e.newPoints[1].y)/2-b(k).scrollTop(),a={top:c+(p+(t-e.centerPointStartY)),left:a+(l+(x-e.centerPointStartX)),scaleX:d,scaleY:d};e.canTap=!1;e.newWidth=f;e.newHeight=n;e.contentLastPos=a;e.requestId&&(m(e.requestId),e.requestId=null);e.requestId=g(function(){b.photoSwiper.setTranslate(e.$content,e.contentLastPos)})};t.prototype.ontouchend=function(e){var f=Math.max((new Date).getTime()-this.startTime,1),h=this.isSwiping,g=this.isPanning,a=this.isZooming,c=this.isScrolling;this.endPoints=l(e);this.$container.removeClass("photoSwiper-controls--isGrabbing");b(n).off(".fb.touch");n.removeEventListener("scroll",this.onscroll,!0);this.requestId&&(m(this.requestId),this.requestId=null);this.isScrolling=this.isZooming=this.isPanning=this.isSwiping=!1;this.instance.isDragging=!1;if(this.canTap)return this.onTap(e);this.speed=366;this.velocityX=this.distanceX/f*.5;this.velocityY=this.distanceY/f*.5;this.speedX=Math.max(.5*this.speed,Math.min(1.5*this.speed,1/Math.abs(this.velocityX)*this.speed));g?this.endPanning():a?this.endZooming():this.endSwiping(h,c)};t.prototype.endSwiping=function(e,f){var h=!1,g=this.instance.group.length;this.sliderLastPos=null;"y"==e&&!f&&50<Math.abs(this.distanceY)?(b.photoSwiper.animate(this.instance.current.$slide,{top:this.sliderStartPos.top+this.distanceY+150*this.velocityY,opacity:0},200),h=this.instance.close(!0,200)):"x"==e&&50<this.distanceX&&1<g?h=this.instance.previous(this.speedX):"x"==e&&-50>this.distanceX&&1<g&&(h=this.instance.next(this.speedX));!1!==h||"x"!=e&&"y"!=e||(f||2>g?this.instance.centerSlide(this.instance.current,150):this.instance.jumpTo(this.instance.current.index));this.$container.removeClass("photoSwiper-is-sliding")};t.prototype.endPanning=function(){var e,f;this.contentLastPos&&(!1===this.opts.momentum?(e=this.contentLastPos.left,f=this.contentLastPos.top):(e=this.contentLastPos.left+this.velocityX*this.speed,f=this.contentLastPos.top+this.velocityY*this.speed),e=this.limitPosition(e,f,this.contentStartPos.width,this.contentStartPos.height),e.width=this.contentStartPos.width,e.height=this.contentStartPos.height,b.photoSwiper.animate(this.$content,e,330))};t.prototype.endZooming=function(){var e=this.instance.current,f,h,g=this.newWidth,a=this.newHeight;this.contentLastPos&&(f=this.contentLastPos.left,h=this.contentLastPos.top,b.photoSwiper.setTranslate(this.$content,{top:h,left:f,width:g,height:a,scaleX:1,scaleY:1}),g<this.canvasWidth&&a<this.canvasHeight?this.instance.scaleToFit(150):g>e.width||a>e.height?this.instance.scaleToActual(this.centerPointStartX,this.centerPointStartY,150):(e=this.limitPosition(f,h,g,a),b.photoSwiper.setTranslate(this.$content,b.photoSwiper.getTranslate(this.$content)),b.photoSwiper.animate(this.$content,e,150)))};t.prototype.onTap=function(e){var f=this,h=b(e.target),g=f.instance,a=g.current,c=e&&l(e)||f.startPoints,d=c[0]?c[0].x-b(k).scrollLeft()-f.stagePos.left:0,m=c[0]?c[0].y-b(k).scrollTop()-f.stagePos.top:0,p,n=function(c){c=a.opts[c];b.isFunction(c)&&(c=c.apply(g,[a,e]));if(c)switch(c){case "close":g.close(f.startEvent);break;case "toggleControls":g.toggleControls(!0);break;case "next":g.next();break;case "nextOrClose":1<g.group.length?g.next():g.close(f.startEvent);break;case "zoom":"image"==a.type&&(a.isLoaded||a.$ghost)&&(g.canPan()?g.scaleToFit():g.isScaledDown()?g.scaleToActual(d,m):2>g.group.length&&g.close(f.startEvent))}};if(!e.originalEvent||2!=e.originalEvent.button)if(h.is("img")||!(d>h[0].clientWidth+h.offset().left)){if(h.is(".photoSwiper-bg,.photoSwiper-inner,.photoSwiper-outer,.photoSwiper-container"))p="Outside";else if(h.is(".photoSwiper-slide"))p="Slide";else if(g.current.$content&&g.current.$content.find(h).addBack().filter(h).length)p="Content";else return;if(f.tapped){clearTimeout(f.tapped);f.tapped=null;if(50<Math.abs(d-f.tapX)||50<Math.abs(m-f.tapY))return this;n("dblclick"+p)}else f.tapX=d,f.tapY=m,a.opts["dblclick"+p]&&a.opts["dblclick"+p]!==a.opts["click"+p]?f.tapped=setTimeout(function(){f.tapped=null;n("click"+p)},500):n("click"+p);return this}};b(n).on("onActivate.fb",function(b,f){f&&!f.Guestures&&(f.Guestures=new t(f))})})(window,document,window.jQuery||jQuery);(function(k,n){n.extend(!0,n.photoSwiper.defaults,{btnTpl:{slideShow:'\x3cbutton data-photoSwiper-play class\x3d"photoSwiper-button photoSwiper-button--play" title\x3d"{{PLAY_START}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M13,12 L27,20 L13,27 Z" /\x3e\x3cpath d\x3d"M15,10 v19 M23,10 v19" /\x3e\x3c/svg\x3e\x3c/button\x3e'},slideShow:{autoStart:!1,speed:3E3}});var b=function(b){this.instance=b;this.init()};n.extend(b.prototype,{timer:null,isActive:!1,$button:null,init:function(){var b=this;b.$button=b.instance.$refs.toolbar.find("[data-photoSwiper-play]").on("click",function(){b.toggle()});(2>b.instance.group.length||!b.instance.group[b.instance.currIndex].opts.slideShow)&&b.$button.hide()},set:function(b){var g=this;g.instance&&g.instance.current&&(!0===b||g.instance.current.opts.loop||g.instance.currIndex<g.instance.group.length-1)?g.timer=setTimeout(function(){g.isActive&&g.instance.jumpTo((g.instance.currIndex+1)%g.instance.group.length)},g.instance.current.opts.slideShow.speed):(g.stop(),g.instance.idleSecondsCounter=0,g.instance.showControls())},clear:function(){clearTimeout(this.timer);this.timer=null},start:function(){var b=this.instance.current;b&&(this.isActive=!0,this.$button.attr("title",b.opts.i18n[b.opts.lang].PLAY_STOP).removeClass("photoSwiper-button--play").addClass("photoSwiper-button--pause"),this.set(!0))},stop:function(){var b=this.instance.current;this.clear();this.$button.attr("title",b.opts.i18n[b.opts.lang].PLAY_START).removeClass("photoSwiper-button--pause").addClass("photoSwiper-button--play");this.isActive=!1},toggle:function(){this.isActive?this.stop():this.start()}});n(k).on({"onInit.fb":function(g,m){m&&!m.SlideShow&&(m.SlideShow=new b(m))},"beforeShow.fb":function(b,m,l,h){b=m&&m.SlideShow;h?b&&l.opts.slideShow.autoStart&&b.start():b&&b.isActive&&b.clear()},"afterShow.fb":function(b,m,l){(b=m&&m.SlideShow)&&b.isActive&&b.set()},"afterKeydown.fb":function(b,m,l,h,p){!(b=m&&m.SlideShow)||!l.opts.slideShow||80!==p&&32!==p||n(k.activeElement).is("button,a,input")||(h.preventDefault(),b.toggle())},"beforeClose.fb onDeactivate.fb":function(b,m){var g=m&&m.SlideShow;g&&g.stop()}});n(k).on("visibilitychange",function(){var b=n.photoSwiper.getInstance();(b=b&&b.SlideShow)&&b.isActive&&(k.hidden?b.clear():b.set())})})(document,window.jQuery||jQuery);(function(k,n){var b=function(){for(var b=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],g={},h=0;h<b.length;h++){var p=b[h];if(p&&p[1]in k){for(h=0;h<p.length;h++)g[b[0][h]]=p[h];return g}}return!1}();if(b){var g={request:function(g){g=g||k.documentElement;g[b.requestFullscreen](g.ALLOW_KEYBOARD_INPUT)},exit:function(){k[b.exitFullscreen]()},toggle:function(b){b=b||k.documentElement;this.isFullscreen()?this.exit():this.request(b)},isFullscreen:function(){return!!k[b.fullscreenElement]},enabled:function(){return!!k[b.fullscreenEnabled]}};n.extend(!0,n.photoSwiper.defaults,{btnTpl:{fullScreen:'\x3cbutton data-photoSwiper-fullscreen class\x3d"photoSwiper-button photoSwiper-button--fullscreen" title\x3d"{{FULL_SCREEN}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M9,12 v16 h22 v-16 h-22 v8" /\x3e\x3c/svg\x3e\x3c/button\x3e'},fullScreen:{autoStart:!1}});n(k).on({"onInit.fb":function(b,l){var h;l&&l.group[l.currIndex].opts.fullScreen?(h=l.$refs.container,h.on("click.fb-fullscreen","[data-photoSwiper-fullscreen]",function(b){b.stopPropagation();b.preventDefault();g.toggle()}),l.opts.fullScreen&&!0===l.opts.fullScreen.autoStart&&g.request(),l.FullScreen=g):l&&l.$refs.toolbar.find("[data-photoSwiper-fullscreen]").hide()},"afterKeydown.fb":function(b,g,h,p,k){g&&g.FullScreen&&70===k&&(p.preventDefault(),g.FullScreen.toggle())},"beforeClose.fb":function(b,l){l&&l.FullScreen&&l.$refs.container.hasClass("photoSwiper-is-fullscreen")&&g.exit()}});n(k).on(b.fullscreenchange,function(){var b=g.isFullscreen(),l=n.photoSwiper.getInstance();l&&(l.current&&"image"===l.current.type&&l.isAnimating&&(l.current.$content.css("transition","none"),l.isAnimating=!1,l.update(!0,!0,0)),l.trigger("onFullscreenChange",b),l.$refs.container.toggleClass("photoSwiper-is-fullscreen",b))})}else n&&n.photoSwiper&&(n.photoSwiper.defaults.btnTpl.fullScreen=!1)})(document,window.jQuery||jQuery);(function(k,n){n.photoSwiper.defaults=n.extend(!0,{btnTpl:{thumbs:'\x3cbutton data-photoSwiper-thumbs class\x3d"photoSwiper-button photoSwiper-button--thumbs" title\x3d"{{THUMBS}}"\x3e\x3csvg viewBox\x3d"0 0 120 120"\x3e\x3cpath d\x3d"M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z" /\x3e\x3c/svg\x3e\x3c/button\x3e'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".photoSwiper-container",axis:"y"}},n.photoSwiper.defaults);var b=function(b){this.init(b)};n.extend(b.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(b){var g=this,l,h;g.instance=b;b.Thumbs=g;g.opts=b.group[b.currIndex].opts.thumbs;l=b.group[0];l=l.opts.thumb||(l.opts.$thumb&&l.opts.$thumb.length?l.opts.$thumb.attr("src"):!1);1<b.group.length&&(h=b.group[1],h=h.opts.thumb||(h.opts.$thumb&&h.opts.$thumb.length?h.opts.$thumb.attr("src"):!1));g.$button=b.$refs.toolbar.find("[data-photoSwiper-thumbs]");g.opts&&l&&h&&l&&h?(g.$button.show().on("click",function(){g.toggle()}),g.isActive=!0):g.$button.hide()},create:function(){var b=this.instance,k=this.opts.parentEl,l=[],h;this.$grid||(this.$grid=n('\x3cdiv class\x3d"photoSwiper-thumbs photoSwiper-thumbs-'+this.opts.axis+'"\x3e\x3c/div\x3e').appendTo(b.$refs.container.find(k).addBack().filter(k)),this.$grid.wrap("\x3cdiv class\x3d'photoSwiper-thumbs-ul-wrapper'\x3e\x3c/div\x3e"),this.$grid.parent(".photoSwiper-thumbs-ul-wrapper").on("click","li",function(){b.jumpTo(n(this).attr("data-index"))}));this.$list||(this.$list=n("\x3cul\x3e").appendTo(this.$grid));this.$grid.parent(".photoSwiper-thumbs-ul-wrapper").prepend(n("\x3cdiv class\x3d'photoSwiper-thumbs-left'\x3e\x3c/div\x3e"));this.$grid.parent(".photoSwiper-thumbs-ul-wrapper").append(n("\x3cdiv class\x3d'photoSwiper-thumbs-right'\x3e\x3c/div\x3e"));this.$grid.parent(".photoSwiper-thumbs-ul-wrapper").on("click",".photoSwiper-thumbs-left",function(){b.jumpTo(n(this).parent(".photoSwiper-thumbs-ul-wrapper").find("li.photoSwiper-thumbs-active").attr("data-index")-5)});this.$grid.parent(".photoSwiper-thumbs-ul-wrapper").on("click",".photoSwiper-thumbs-right",function(){b.jumpTo(n(this).parent(".photoSwiper-thumbs-ul-wrapper").find("li.photoSwiper-thumbs-active").attr("data-index")-0+5)});n.each(b.group,function(b,g){h=g.opts.thumb||(g.opts.$thumb?g.opts.$thumb.attr("src"):null);h||"image"!==g.type||(h=g.src);l.push('\x3cli data-index\x3d"'+b+'" tabindex\x3d"0" class\x3d"photoSwiper-thumbs-loading"'+(h&&h.length?' style\x3d"background-image:url('+h+')"':"")+"\x3e\x3c/li\x3e")});this.$list[0].innerHTML=l.join("");"x"===this.opts.axis&&this.$list.width(parseInt(this.$grid.css("padding-right"),10)+b.group.length*this.$list.children().eq(0).outerWidth(!0))},focus:function(b){var g=this.$list,k=this.$grid,h,p;this.instance.current&&(h=g.children().removeClass("photoSwiper-thumbs-active").filter('[data-index\x3d"'+this.instance.current.index+'"]').addClass("photoSwiper-thumbs-active"),p=h.position(),"y"===this.opts.axis&&(0>p.top||p.top>g.height()-h.outerHeight())?g.stop().animate({scrollTop:g.scrollTop()+p.top},b):"x"===this.opts.axis&&(p.left<k.scrollLeft()||p.left>k.scrollLeft()+(k.width()-h.outerWidth()))&&g.parent().stop().animate({scrollLeft:p.left},b))},update:function(){this.instance.$refs.container.toggleClass("photoSwiper-show-thumbs",this.isVisible);this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus(0)):this.$grid&&this.instance.trigger("onThumbsHide");this.instance.update()},hide:function(){this.isVisible=!1;this.update()},show:function(){this.isVisible=!0;this.update()},toggle:function(){this.isVisible=!this.isVisible;this.update()}});n(k).on({"onInit.fb":function(g,k){var l;k&&!k.Thumbs&&(l=new b(k),l.isActive&&!0===l.opts.autoStart&&l.show())},"beforeShow.fb":function(b,k,l,h){(b=k&&k.Thumbs)&&b.isVisible&&b.focus(h?0:250)},"afterKeydown.fb":function(b,k,l,h,p){(b=k&&k.Thumbs)&&b.isActive&&71===p&&(h.preventDefault(),b.toggle())},"beforeClose.fb":function(b,k){var g=k&&k.Thumbs;g&&g.isVisible&&!1!==g.opts.hideOnClose&&g.$grid.hide()}})})(document,window.jQuery||jQuery);(function(k,n,b){function g(){var b=n.location.hash.substr(1),g=b.split("-"),k=1<g.length&&/^\+?\d+$/.test(g[g.length-1])?parseInt(g.pop(-1),10)||1:1,g=g.join("-");return{hash:b,index:1>k?1:k,gallery:g}}function m(h){""!==h.gallery&&b("[data-photoSwiper\x3d'"+b.escapeSelector(h.gallery)+"']").eq(h.index-1).trigger("click.fb-start")}function l(b){if(!b)return!1;b=b.current?b.current.opts:b.opts;b=b.hash||(b.$orig?b.$orig.data("photoSwiper"):"");return""===b?!1:b}b.escapeSelector||(b.escapeSelector=function(b){return(b+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(b,h){return h?"\x00"===b?"\ufffd":b.slice(0,-1)+"\\"+b.charCodeAt(b.length-1).toString(16)+" ":"\\"+b})});b(function(){!1!==b.photoSwiper.defaults.hash&&(b(k).on({"onInit.fb":function(b,k){var h,p;!1!==k.group[k.currIndex].opts.hash&&(h=g(),(p=l(k))&&h.gallery&&p==h.gallery&&(k.currIndex=h.index-1))},"beforeShow.fb":function(b,g,m,t){m&&!1!==m.opts.hash&&(b=l(g))&&(g.currentHash=b+(1<g.group.length?"-"+(m.index+1):""),n.location.hash!=="#"+g.currentHash&&(g.origHash||(g.origHash=n.location.hash),g.hashTimer&&clearTimeout(g.hashTimer),g.hashTimer=setTimeout(function(){"replaceState"in n.history?(n.history[t?"pushState":"replaceState"]({},k.title,n.location.pathname+n.location.search+"#"+g.currentHash),t&&(g.hasCreatedHistory=!0)):n.location.hash=g.currentHash;g.hashTimer=null},300)))},"beforeClose.fb":function(b,g,m){!1!==m.opts.hash&&(l(g),g.currentHash&&g.hasCreatedHistory?n.history.back():g.currentHash&&("replaceState"in n.history?n.history.replaceState({},k.title,n.location.pathname+n.location.search+(g.origHash||"")):n.location.hash=g.origHash),g.currentHash=null,clearTimeout(g.hashTimer))}}),b(n).on("hashchange.fb",function(){var h=g(),k;b.each(b(".photoSwiper-container").get().reverse(),function(g,h){var e=b(h).data("FancyBox");if(e.currentHash)return k=e,!1});k?!k.currentHash||k.currentHash===h.gallery+"-"+h.index||1===h.index&&k.currentHash==h.gallery||(k.currentHash=null,k.close()):""!==h.gallery&&m(h)}),setTimeout(function(){b.photoSwiper.getInstance()||m(g())},50))})})(document,window,window.jQuery||jQuery);(function(k,n){var b=(new Date).getTime();n(k).on({"afterShow.fb":function(g,k,l){k.$refs.stage.find(".photoSwiper-content").on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(g){var h=k.current,l=(new Date).getTime();!1===h.opts.wheel||"auto"===h.opts.wheel&&"image"!==h.type||(g.preventDefault(),g.stopPropagation(),h.$slide.hasClass("photoSwiper-animated")||(g=g.originalEvent||g,10>l-b||(b=l,k[0>(-g.deltaY||-g.deltaX||g.wheelDelta||-g.detail)?"reduce":"enlarge"](n(".photoSwiper-slide--current .photoSwiper-content-operator")))))});k.$refs.stage.find(".photoSwiper-content").on("dblclick",function(b){n(this).parent().find(".photoSwiper-myFullScreen").trigger("click")})}})})(document,window.jQuery||jQuery);